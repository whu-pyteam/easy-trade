<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>详细信息</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/fileinput.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">

    <link href="../css/theme.css" rel="stylesheet">
    <link href="../css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <style type="text/css">
        .fqxs {
            padding-top: 60px;
        }
    </style>
</head>


<body>

<div th:replace="header::header(${2})"></div>

<div class="ssl">
    <div class="container">
        <div class="col-lg-4">
            <div class="logo pull-left">
                <a href="index.html"><img src="../images/logo.jpg" height="45" width="260" alt=""/></a>
            </div>
        </div>
        <div class="col-sm-8">
            <form class="navbar-form navbar-right" role="search" th:action="@{'/ad01/cxk'}" >
                <div class="form-group">
                    <input type="text" class="form-control" name="notsure" id="notsure" placeholder="Search">
                    <button type="submit" class="btn btn-default">搜索</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-3"></div>
        <div class="col-lg-6">
            <form class="fqxs" th:action="@{/ad01/edit}"  th:object="${ad01}" th:each="ad01:${ad01}" method="post" enctype="multipart/form-data">

                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="aad101">悬赏号:</label>
                    </div>
                    <div class="col-lg-10">
                        <input type="text" th:value="${ad01.getAd01().aad101}" name="aad101" class="form-control"  id="aad101" readonly="readonly">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="aad105">悬赏名称:</label>
                    </div>
                    <div class="col-lg-10">
                        <input type="text" th:value="${ad01.ad01.aad105}" class="form-control" name="aad105"  id="aad105">
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="02">悬赏介绍:</label>
                    </div>
                    <div class="col-lg-10">
                        <textarea class="form-control" rows="5"  th:text="${ad01.getAd01().aad103}" name="aad103" id="02"></textarea>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="03">悬赏价格:</label>
                    </div>
                    <div class="col-lg-10">
                        <input type="number" class="form-control" step="0.01" th:value="${ad01.ad01.aad104}" name="aad104" id="03">
                    </div>
                </div>


                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="aad107">开始时间:</label>
                    </div>
                    <div class="col-lg-10">
                        <div class="input-group date form_date">
                            <input type="datetime" class="form-control"  id="aad107" name="aad107"  th:value="${#dates.format(new java.util.Date().getTime(), 'yyyy-MM-dd HH:mm:ss')}" readonly="readonly">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-lg-2">
                        <label for="05">截止时间:</label>
                    </div>
                    <div class="col-lg-10">
                        <div class="input-group date form_date">
                            <input type="text" class="form-control" th:value="${#dates.format(ad01.ad01.aad108,'yyyy-MM-dd HH:mm:ss')}" id="05" name="aad108" placeholder="请选择截止时间" >
                            <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                        </div>
                    </div>
                </div>

                <br/>
                <div class="form-group text-center">
                    <input type="submit" class="btn btn-primary" value="提交修改" name="action">
                    <input type="submit" class="btn btn-primary" value="自定标签" name="action" onclick="tanchu()" >
                    <a th:href="@{/ad01/delad01(aad101=${ad01.ad01.aad101})}" class="btn btn-primary" role="button">删除</a>
                    <input type="submit" class="btn btn-primary" value="删除标签" name="action" onclick="tanchu2()">
                    <a th:href="@{/orderAdd(aad101=${ad01.ad01.aad101})}" class="btn btn-primary" role="button">订单生成</a>
                    <a th:href="@{/ad01/addad03(aad101=${ad01.ad01.aad101})}" class="btn btn-primary" role="button">评论</a>
                </div>
                    <br/>
                <select id="oselect" onchange="func()">
                    <option th:each="item:${ad01.ac02List}" th:text="${item.aac202}" th:value="${item.aac202}" name="aac202" ></option>
                </select>
            </form>
            <br/>
            <br/>
        </div>
        <div class="col-lg-3"></div>
    </div>
</div>


<script src="../js/jquery.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/fileinput.js"></script>
<script src="../js/theme.js"></script>
<script src="../js/locales/zh.js"></script>
<script src="../js/bootstrap-datetimepicker.min.js"></script>
<script src="../js/locales/bootstrap-datetimepicker.zh-CN.js"></script>

</body>
<script>
    function tanchu() {

        var aac202 = prompt("请输入自定义标签", "");
        var aad101=document.getElementById("aad101").value;
        add(aac202,aad101);

    }
    function add(aac202,aad101)
    {
        console.log(aac202,aad101);
        $.ajax({
            type: "post",
            url: '/ad01/biaoqian',
            data: {
                "aac202": aac202,
                "aad101": aad101
             },
            dataType:"json",
            success:function (data) {
                if(data==1)
                {
                    alert("成功添加标签");
                }
                if(data==2)
                {
                    alert("您已经添加此标签,请勿重复添加");
                }
            }
        })
    }

    function tanchu2()
    {
        var aac202 = prompt("请输入想删除的标签名称", "");
        var aad101=document.getElementById("aad101").value;
        add(aac202,aad101);
    }
    function add(aac202,aad101)
    {
        console.log(aac202,aad101);
        $.ajax({
            type: "post",
            url: '/ad01/deleteLabel',
            data: {
                "aac202": aac202,
                "aad101": aad101
            },
            dataType:"json",
            success:function (data) {
                if(data==1)
                {
                    alert("成功删除");
                }
                if(data==2)
                {
                    alert("标签名不对,请重新输入");
                }
                if(data==3)
                {
                    alert("您没有标签")
                }
            }
        })
    }


  function func() {

      var id = $('select option:selected').val();
      window.location.href = "/ad01/selectbybq?aac202=" + id;

  }

    var date = new Date();
    $('.form_date').datetimepicker({
        language: 'zh-CN',
        autoclose: true, //自动关闭
        todayHighlight: 1, //高亮今日日期
        startView: 2, //从日期视图开始
        startDate: date,
        forceParse: 0

    });
</script>

</html>